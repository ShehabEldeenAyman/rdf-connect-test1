import { CronJob } from "cron";
import { HttpUtilsError } from "../error.js";
export function cronify(func, cronExpression) {
    return async () => {
        try {
            CronJob.from({
                cronTime: cronExpression,
                onTick: func,
                start: true,
                timeZone: null,
            });
        }
        catch (e) {
            throw HttpUtilsError.invalidCronExpression();
        }
    };
}
