// myLibrary.ts
let storage;
if (typeof window === "undefined") {
    // Node.js environment
    let fs;
    if (typeof require === "undefined") {
        import('fs').then(mod => fs = mod);
    }
    else {
        fs = require("fs");
    }
    storage = {
        getItem: (key) => {
            const data = fs.readFileSync(key, "utf8");
            return data;
        },
        setItem: (key, value) => {
            fs.writeFileSync(key, value, "utf8");
        },
        removeItem: (key) => {
            try {
                fs.unlinkSync(key);
            }
            catch (error) {
                // Handle error
            }
        },
    };
}
else {
    // Browser environment
    storage = {
        getItem: (key) => {
            const data = localStorage.getItem(key);
            if (data)
                return data;
            throw "Key not found in local storage";
        },
        setItem: (key, value) => {
            localStorage.setItem(key, value);
        },
        removeItem: (key) => {
            localStorage.removeItem(key);
        },
    };
}
export { storage };
